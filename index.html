<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cats rule the world</title>
    <style>
body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: url('background.png') no-repeat center center fixed;
    background-size: 100vw auto;
    height: 100vh;
    cursor: auto;
}

body.custom-cursor {
    cursor: url('mouse.png'), auto;
}

#intro {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: url('door.png') no-repeat center center;
    background-size: cover;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    flex-direction: column;
}

#intro-button {
    cursor: pointer;
    width: 200px;
    position: absolute;
    top: 60%;
    left: 50%;
    transform: translateX(-50%);
}
        @font-face {
    font-family: 'UhBeeSe_hyun';
    src: url('https://gcore.jsdelivr.net/gh/projectnoonnu/noonfonts_five@.2.0/UhBeeSe_hyun.woff') format('woff');
    font-weight: normal;
    font-style: normal;
}

        .container {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .box {
            position: absolute;
            background-color: rgba(0, 0, 0, 0);
            cursor: pointer;
        }

        .box1 {top: 60%; left: 55%; width: 500px; height: 500px;}
        .box2 {top: 5%; left: 75%; width: 450px; height: 280px;}
        .box3 {top: 10%; left: 60%; width: 180px; height: 200px;}
        .box4 {top: 32%; left: 51%; width: 100px; height: 100px;}
        .box5 {top: 25%; left: 75%; width: 200px; height: 200px;}
        .box6 {top: 42%; left: 75%; width: 250px; height: 150px;}
        .box7 {top: 50%; left: 61%; width: 150px; height: 200px;}
        .box8 {top: 60%; left: 67%; width: 150px; height: 200px;}
        .box9 {top: 2%; left: 23%; width: 150px; height: 400px;}
        .box10 {top: 2%; left: 43%; width: 180px; height: 400px;}
        .box11 {top: 65%; left: 55%; width: 200px; height: 250px;}
        .box12 {top: 27%; left: 66%; width: 170px; height: 140px;}
        .box13 {top: 35%; left: 22%; width: 100px; height: 400px;}
        .box14 {top: 20%; left: 10%; width: 110px; height: 250px;}
        .box15 {top: 85%; left: 20%; width: 170px; height: 170px;}
        .box16 {top: 65%; left: 43%; width: 70px; height: 80px;}
        .box17 {top: 63%; left: 40%; width: 80px; height: 80px;}
        .box18 {top: 40%; left: 32%; width: 500px; height: 300px;}
        .box19 {top: 7%; left: 31%; width: 160px; height: 50px;}
        .box20 {top: 9%; left: 35%; width: 150px; height: 40px;}
        .box21 {top: 40%; left: 30%; width: 100px; height: 150px;}
        .box22 {top: 15%; left: 35%; width: 100px; height: 250px;}
        .box23 {top: 85%; left: 13%; width: 200px; height: 100px;}
        .box24 {top: 70%; left: 68%; width: 200px; height: 200px;}
        .box25 {top: 20%; left: 10%; width: 110px; height: 250px;}
        .box26 {top: 20%; left: 15%; width: 100px; height: 100px;}
        .box27 {top: 30%; left: 15%; width: 150px; height: 100px;}
        .box28 {top: 40%; left: 7%; width: 200px; height: 200px;}
        .box29 {top: 45%; left: 15%; width: 200px; height: 100px;}

        .image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.9;
            pointer-events: none;
        }

        .counter {
            position: absolute;
            top: 10px;
            right: 10px;
            color: white;
            font-size: 20px;
            background: rgba(0, 0, 0, 0.5);
            padding: 10px;
            border-radius: 10px;
        }


        #intro-text {
    font-family: 'UhBeeSe_hyun', sans-serif;
    font-size: 32px;
    color: white;
    position: absolute;
    top: 10%;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1001;
    text-align: center;
    color: black;
}

                .mouse-trail {
            position: absolute;
            width: 50px;
            height: 50px;
            background: url('mouse2.png') no-repeat center center;
            background-size: cover;
            opacity: 1;
            pointer-events: none;
            transition: opacity 0.5s ease-out; /* 페이드아웃 효과 */
        }

    </style>
</head>
<body>
    <div class="intro" id="intro">
        <div id="intro-text">방문을 열어 방에 들어가보세요!</div>
        <img src="first.png" alt="Start" id="intro-button">
    </div>

    <div class="container" id="container" style="display: none;">
        <div class="counter" id="counter">발견한 고양이: 0/28</div>
        
        <div class="box box1" onclick="handleBoxClick('carpet')"></div>
        <div class="box box2" onclick="handleBoxClick('paint')"></div>
        <div class="box box3" onclick="handleBoxClick('girl')"></div>
        <div class="box box4" onclick="handleBoxClick('tissue')"></div>
        <div class="box box5" onclick="handleBoxClick('phone')"></div>
        <div class="box box6" onclick="handleBoxClick('pillow')"></div>
        <div class="box box7" onclick="handleBoxClick('trash')"></div>
        <div class="box box8" onclick="handleBoxClick('neck')"></div>
        <div class="box box9" onclick="handleBoxClick('curtain1')"></div>
        <div class="box box10" onclick="handleBoxClick('curtain2')"></div>
        <div class="box box11" onclick="handleBoxClick('small_sofa')"></div>
        <div class="box box12" onclick="handleBoxClick('light')"></div>
        <div class="box box13" onclick="handleBoxClick('long2')"></div>
        <div class="box box14" onclick="handleBoxClick('long')"></div>
        <div class="box box15" onclick="handleBoxClick('bag')"></div>
        <div class="box box16" onclick="handleBoxClick('coffee')"></div>
        <div class="box box17" onclick="handleBoxClick('egg')"></div>
        <div class="box box18" onclick="handleBoxClick('sofa')"></div>
        <div class="box box19" onclick="handleBoxClick('cloud1')"></div>
        <div class="box box20" onclick="handleBoxClick('cloud2')"></div>
        <div class="box box21" onclick="handleBoxClick('doll')"></div>
        <div class="box box22" onclick="handleBoxClick('flower')"></div>
        <div class="box box23" onclick="handleBoxClick('socks')"></div>
        <div class="box box24" onclick="handleBoxClick('hand')"></div>
        <div class="box box25" onclick="handleBoxClick('book1')"></div>
        <div class="box box26" onclick="handleBoxClick('book2')"></div>
        <div class="box box27" onclick="handleBoxClick('book3')"></div>
        <div class="box box28" onclick="handleBoxClick('book4')"></div>
        <div class="box box29" onclick="handleBoxClick('book5')"></div>

        <div id="image" class="image"></div>
    </div>

    <script>
        const intro = document.getElementById('intro');
        const introText = document.getElementById('intro-text');
        const introButton = document.getElementById('intro-button');
        const container = document.getElementById('container');
        const body = document.body; 
       

        introButton.addEventListener('click', () => {
    // 커서를 custom-cursor.png로 변경
    body.classList.add('custom-cursor');  // 여기를 introButton 클릭 시에만 추가

    // 인트로 텍스트와 버튼 사라지기
    introText.style.display = 'none';
    introButton.style.display = 'none';

    // door.gif 재생 설정
    intro.style.backgroundImage = "url('door.gif')";

    // door.gif의 재생 시간이 끝난 후 메인 컨텐츠 표시
    setTimeout(() => {
        intro.style.display = 'none';
        container.style.display = 'block';
    }, 2000); // door.gif의 재생 시간에 맞게 조정
});

        // 카운터 업데이트 함수
        let foundCount = 0;
        const totalBoxes = 28; // 전체 박스 수
        const clickedBoxes = new Set(); // 클릭한 박스를 저장

        const audioFiles = [
            'cat1.mp3',
            'cat2.mp3',
            'cat3.mp3',
            'cat4.mp3',
            'cat5.mp3'
        ];

        function playRandomSound() {
            const randomIndex = Math.floor(Math.random() * audioFiles.length);
            const audio = new Audio(audioFiles[randomIndex]);
            audio.play();
        }

        const counterElement = document.getElementById('counter');

function updateCounter() {
    counterElement.textContent = `발견한 고양이: ${foundCount}/${totalBoxes}`;
}

        function handleBoxClick(imageType) {
            const imageElement = document.getElementById('image');

            // 이미지 타입에 따른 URL 매핑
            const imageMap = {
                carpet: 'carpet.png',
                paint: 'paint.png',
                girl: 'girl.png',
                tissue: 'tissue.png',
                phone: 'phone.png',
                pillow: 'pillow.png',
                trash: 'trash.png',
                neck: 'neck.png',
                curtain1: 'curtain1.png',
                curtain2: 'curtain2.png',
                small_sofa: 'small sofa.png',
                light: 'light.png',
                long2: 'long2.png',
                long: 'long.png',
                bag: 'bag.png',
                coffee: 'coffee.png',
                egg: 'egg.png',
                sofa: 'sofa.png',
                cloud1: 'cloud1.png',
                cloud2: 'cloud2.png',
                doll: 'doll.png',
                flower: 'flower.png',
                socks: 'socks.png',
                hand: 'hand.png',
                book1: 'book1.png',
                book2: 'book2.png',
                book3: 'book3.png',
                book4: 'book4.png',
                book5: 'book5.png'
            };

            // 박스 클릭 시, 고양이 소리 재생
            playRandomSound();

            // 이미지 URL을 가져와서 div 생성
            if (imageMap[imageType]) {
                const img = document.createElement('div');
                img.style.position = 'absolute';
                img.style.top = '0';
                img.style.left = '0';
                img.style.width = '100%';
                img.style.height = '100%';
                img.style.backgroundImage = `url('${imageMap[imageType]}')`;
                img.style.backgroundSize = 'cover';

                // 애니메이션 클래스 추가
                img.classList.add('animated-image');

                // 동일한 박스를 중복 클릭하지 않도록 확인
                if (!clickedBoxes.has(imageType)) {
                    clickedBoxes.add(imageType);
                    foundCount++;
                    updateCounter(); // 카운터 업데이트
                }

                // 기존에 동일 이미지가 추가되지 않도록 검사
                if (!imageElement.querySelector(`[data-image="${imageType}"]`)) {
                    img.setAttribute('data-image', imageType);
                    imageElement.appendChild(img);
                }
            }
        }

        
        let lastTrailTime = 0; // 마지막으로 트레일을 생성한 시간

        document.body.addEventListener('mousemove', (event) => {
            const now = Date.now();
            
            // 200ms마다 트레일 생성
            if (now - lastTrailTime > 200) {
                lastTrailTime = now;

                const trail = document.createElement('div');
                trail.className = 'mouse-trail';
                trail.style.left = `${event.pageX + 100}px`; // 마우스 위치 기준 중앙
                trail.style.top = `${event.pageY + 100}px`;

                document.body.appendChild(trail);

                // 0.5초 후 페이드아웃 시작, 1초 후 DOM에서 제거
                setTimeout(() => {
                    trail.style.opacity = '0';
                    setTimeout(() => trail.remove(), 500);
                }, 500);
            }
        });
    </script>
</body>
</html>




